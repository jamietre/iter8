!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.iter=n()}}(function(){return function n(r,t,e){function u(o,a){if(!t[o]){if(!r[o]){var f="function"==typeof require&&require;if(!a&&f)return f(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[o]={exports:{}};r[o][0].call(l.exports,function(n){var t=r[o][1][n];return u(t?t:n)},l,l.exports,n,r,t,e)}return t[o].exports}for(var i="function"==typeof require&&require,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(n,r,t){"use strict";function e(n,r,t){return r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}function u(n,r,t,e){if(n===C)return void(t?(this[C]=r.apply(t,e),this[z]=r,this[T]=t,this[U]=e):this[C]=r);if(!(this instanceof u))return new u(n);var i=n&&n[C];if(!i&&null!=n){if(n&&"function"!=typeof n)return u.fromObjectOwn(n);throw new Error("iter can only be sourced with an Iterable object or a regular Javascript object.")}this[C]=i?i.bind(n):P}function i(n,r,t,e){return new Function("a","b","c","var _i=this[Symbol.iterator]();"+(n||"var r=-1")+";var _c;"+(e?"if (a) while (_c = _i.next(), !_c.done) {"+r.replace(/\{v\}/g,"a(_c.value)")+";} else ":"")+"while (_c=_i.next(), !_c.done) {"+r.replace(/\{v\}/g,"_c.value")+";};"+(t||"return r"))}function o(n,r,t){var e=i(n,r,t,!0);return function(n){var r=n&&k(n);return e.apply(this,[r].concat(K.concat.call(arguments)))}}function a(n,r){var t=[A(n)];return c.call(this,this,t,r)}function f(n,r){if(!this[J])throw new Error("thenBy only makes sense after orderBy");var t=this[J].slice(0);return t.push(A(n)),c.call(this,this[T],t,r)}function c(n,r,t){var e=new u(C,l.call(this,r,t));return e[J]=r,e[T]=n,e}function l(n,r){var t=this;return function(){var e=t.toArray().sort(function(t,e){for(var u=0,i=0;0===u&&i<n.length;i++){var o=n[i],a=o(r?e:t),f=o(r?t:e);a<f?u=-1:f<a&&(u=1)}return u});return e[C]()}}function v(n,r,t,e){var i=this;return function(){var o=!t&&!e,a=k(o?0:t),f=k(o?1:null),c=k(o?0:e),l=k(o?1:null),v=i[C](),s=new Map(e?new u(n).groupBy(c):n),h=void 0,d=void 0,p=void 0;return{next:function(){for(;;){if(!h){var n=v.next();if(n.done)return L;p=a(n.value),d=f(n.value);var t=s.get(p);if(!t||!t[C]||"string"==typeof t)return{done:!1,value:r(d,t,p)};h=t[C]()}var e=h.next();if(!e.done)return{done:!1,value:r(d,l(e.value),p)};h=null}}}}}function s(n){var r=this;return function(){for(var t=r[C]();n-- >0&&!t.next().done;);return t}}function h(n){var r=this;return function(){var t=r[C]();return{next:function(){if(0!==n){var r=t.next();if(!r.done)return n--,{done:!1,value:r.value}}return L}}}}function d(n){var r=this[C](),t=0;return{next:function(){for(var e=r.next();!e.done&&!n(e,t++);)e=r.next();return q(e.done,e.value)}}}function p(n,r,t,e){return function(){var u=M(n,function(n){return"constructor"!==n&&(!r||r(n))},t);return e||(u=u.filter(function(n){return n[1].field})),u=u.map(function(r){return[r[0],n[r[0]]]}),u[C]()}}function y(n,r){B(n);var t=this;return function(){var e=0,u=t[C]();return{next:function(){var t=u.next();return q(t.done,!t.done&&(n.call(r,t.value,e++),t.value))}}}}function w(n,r,t){var e=this;return function(){var u=k(r),i=new Set(E(t,n));return d.call(e,function(n){return!i.has(u(n.value))})}}function b(n,r,t){var e=this;return function(){var u=k(r),i=new Set(E(t,n));return d.call(e,function(n){return i.has(u(n.value))})}}function x(n,r,t){var e=this;return function(){var i=new u(n).except(e);return(r||t)&&(i=i.on(r,t)),e.concat(i)[C]()}}function m(n){var r=this;return function(){var t=new Set,e=r[C](),u=void 0,i=k(n);return{next:function(){for(;u=e.next(),!u.done;){var n=i(u.value);if(!t.has(n))return t.add(n),{done:!1,value:u.value}}return L}}}}function g(n){var r=this;return function(){for(var t=k(n),e=new Map,u=void 0,i=r[C]();u=i.next(),!u.done;){var o=u.value,a=t(o);e.has(a)?e.get(a).push(o):e.set(a,[o])}return e[C]()}}function O(n){var r=this;return function(){var t=[r];K.forEach.call(n,function(n){t.push(n)});var e=0,u=void 0;return{next:function(){for(;e<t.length;){if(!u){var n=t[e];u="string"!=typeof n&&n[C]?n[C]():D(n)}var r=u.next();if(!r.done)return{done:!1,value:r.value};u=null,e++}return L}}}}function j(n){var r=this;return function(){var t=[r[C]()],e=void 0;return{next:function(){for(;e||t.length>0;){e||(e=t.pop());var r=e.next();if(r.value&&r.value[C]&&"string"!=typeof r.value&&(n||0===t.length))t.push(e),e=r.value[C]();else{if(!r.done)return{done:!1,value:r.value};e=void 0}}return L}}}}function S(n,r){B(n);var t=this;return function(){var e=0,u=t[C]();return{next:function(){for(var t=u.next();!t.done&&!n.call(r,t.value,e++);)t=u.next();return q(t.done,t.value)}}}}function _(n,r){B(n);var t=this;return function(){var e=0,u=t[C]();return{next:function(){var t=u.next();return q(t.done,!t.done&&n.call(r,t.value,e++))}}}}function E(n,r){return null!=n?new u(r).map(k(n)):r}function k(n){return null==n?function(n){return n}:"function"==typeof n?n:function(r){return r[n]}}function A(n){return"function"==typeof n?n:function(r){return r[n]}}function q(n,r){return n?L:{value:r,done:!1}}function P(){return function(){return{next:function(){return L}}}}function B(n){if("function"!=typeof n)throw new Error("The callback argument was not a function.")}function D(n){var r=!1;return{next:function(){return r?L:(r=!0,{done:!1,value:n})}}}function I(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=new u(Object.getOwnPropertyNames(n)).map(function(r){return[r,n,t]}).execute();if(r){var i=Object.getPrototypeOf(n);i!==Object.prototype&&(e=e.union(I(i,!0,t+1)).on("0"))}return e}function M(n,r,t){var e=I(n,t);return r&&(B(r),e=e.filter(function(n){return r(n[0])})),e.map(function(n){var r=Object.getOwnPropertyDescriptor(n[1],n[0]),t=r.hasOwnProperty("value");return[n[0],{type:t?null===r.value?"null":N(r.value):null,field:t,writable:!!r.writable||!!r.set,getter:r.get||null,setter:r.set||null,configurable:r.configurable,enumerable:r.enumerable,depth:n[2]}]})}function F(n,r){this[0]=r?n:n[0],this[1]=r||n[1]}Object.defineProperty(t,"__esModule",{value:!0});var N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},J=Symbol(),T=Symbol(),U=Symbol(),z=Symbol(),C=Symbol.iterator,G="prototype",K=Array[G],L={done:!0};Object.freeze(L),Object.assign(u,{fromGenerator:function(n){return new u(C,n)},fromObject:function(n,r){return new u(C,p.call(null,n,r,!0))},fromObjectOwn:function(n,r){return new u(C,p.call(null,n,r,!1))},reflect:function(n,r,t){return"function"==typeof r&&(t=r,r=!1),M(n,t,r)},generate:function(n,r){return new u(C,function(){var t=-1;return{next:function(){return t++,q(t>=r,"function"==typeof n?n(t):n)}}})}}),u[G]={constructor:u,forEach:i("var i=0","a.call(b,{v},i++)",";"),do:function(n,r){return new u(C,y.call(this,n,r))},groupBy:function(n){return new u(C,g.call(this,n))},orderBy:function(n){return a.call(this,n)},orderDesc:function(n){return a.call(this,n,!0)},thenBy:function(n){return f.call(this,n)},thenDesc:function(n,r){return f.call(this,n,r)},count:i("var r=0","r++"),skip:function(n){return new u(C,s.call(this,n))},take:function(n){return new u(C,h.call(this,n))},cast:function(n){return new u(C,_.call(this,function(r){return new n(r)}))},first:function(n){var r=this[C]().next();return r.done?n:r.value},last:function n(r){var t=this[C](),e=t.next();if(e.done)return r;for(var n=void 0;e=t.next(),!e.done;)n=e.value;return n},flatten:function(n){return new u(C,j.call(this,n))},unique:function(n){return new u(C,m.call(this,n))},except:function(n){return new u(C,w,this,[n])},intersect:function(n){return new u(C,b,this,[n])},union:function(n){return new u(C,x,this,[n])},leftJoin:function(n,r){return new u(C,v,this,[n,r])},on:function(n,r){if(1===arguments.length&&(r=n),!this[T])throw new Error('"on" doesn\'t make sense without a prior join or set merge operation.');return new u(C,this[z].apply(this[T],this[U].concat([n,r])))},sequenceEqual:function(n,r,t){var e=this[C](),u=k(r),i=void 0,o=!0,a=!1,f=void 0;try{for(var c,l=E(t,n)[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var v=c.value;if(i=e.next(),i.done||v!==u(i.value))return!1}}catch(n){a=!0,f=n}finally{try{!o&&l.return&&l.return()}finally{if(a)throw f}}return!!e.next().done},concat:function(){return new u(C,O.call(this,arguments))},map:function(n,r){return new u(C,_.call(this,n,r))},filter:function(n,r){return new u(C,S.call(this,n,r))},some:i("var i=0","if (a({v},b,i)) return true","return false"),every:i("var i=0","if (!a({v},b,i++)) return false","return true"),includes:i("var i=0","if ({v}===a) return true; i++","return false"),indexOf:i("var i=0","if ({v}===a) return i; i++","return -1"),lastIndexOf:i("var r=-1, i=0","if ({v}===a) r=i; i++"),findIndex:i("var i=0","if (a.call(b,{v},i)===true) return i; i++","return -1"),find:i("var i=0","if (a.call(b,{v},i++)===true) return {v};","return c"),get:i("var i=0","if (i++===a) return {v}","return c"),slice:function(n,r){return this.skip(n).take(r-n+1)},reduce:i("var r=b;var i=0","r=a(r,{v},i++)"),reduceRight:function(){var n=i("var r=b;var i=c","r=a(r,{v},i--)");return function(r,t){var e=this.toArray().reverse();return n.apply(e,[r,t,e.length-1])}}(),join:function(n){return this.toArray().join(n)},toObject:i("var r={}","r[{v}[0]]={v}[1]"),toArray:i("var r=[]","r.push({v})"),as:function(n){return n===Array?this.toArray():new n(e({},C,this[C]))},execute:function(){return new u(this.toArray())},min:o("var r=Infinity","var v = {v}; if (r>v) r=v"),max:o("var r=-Infinity","var v = {v}; if (r<v) r=v"),sum:o("var r=0","r+={v}")},["sort","reverse"].forEach(function(n){u[G][n]=function(){var r=this,t=arguments;return new u(C,function(){var e=r.toArray();return K[n].apply(e,t)[C]()})}}),["key","value"].forEach(function(n,r){Object.defineProperty(F[G],n,{get:new Function("return this._"+r%2)})}),Object.assign(F[G],{toString:function(){return"["+this.key+","+this.value+"]"},valueOf:function(){return this.key}}),t.default=u,t.Kvp=F},{}]},{},[1])(1)});
