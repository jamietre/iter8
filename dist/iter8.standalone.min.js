!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.iter=n()}}(function(){return function n(r,t,e){function u(o,a){if(!t[o]){if(!r[o]){var f="function"==typeof require&&require;if(!a&&f)return f(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[o]={exports:{}};r[o][0].call(l.exports,function(n){var t=r[o][1][n];return u(t?t:n)},l,l.exports,n,r,t,e)}return t[o].exports}for(var i="function"==typeof require&&require,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(n,r,t){function e(n,r,t,u){if(n===z)return t?(this[z]=r.apply(t,u),this[L]=r,this[C]=t,this[J]=u):this[z]=r,void(this[R]=[]);if(!(this instanceof e))return new e(n,r);var i=n&&("function"==typeof n.next?U(n):"function"==typeof n?n:n[z]);if(!i&&null!=n)throw new Error('iter can only be constructed with an iterable, iterator or generator. Use "fromObject" of your intent is to enumerate object properties.');this[z]=i?i.bind(n):I,this[R]=[]}function u(){return this&&(this[R]=[]),{done:!0}}function i(n){if("function"!=typeof n[z])throw new Error("The entity was not a valid iterable. It must implement [Symbol.iterator]");var r=n[z]();if(console.log(n[z].toString()),this&&this[R].push(r),"function"!=typeof r.next)throw new Error("The iterable did not return a valid iterator.");return r}function o(n){return function(){a(n)}}function a(n){for(;n.length>0;){var r=n.pop();r&&"function"==typeof r.return&&r.return()}}function f(n,r,t){return function(){return new e(z,n.apply(this,(t||[]).concat(Q.slice.call(arguments,0,r||void 0))))}}function c(n,r){return function(){return new e(z,n,this,Q.slice.call(arguments,0,r))}}function l(n,r){var t=function(e){t=D(n);var u=t(e);return r(u),u};return function(n){return t(n)}}function v(n,r,t,e){var u="while (_c=_i.next(),!_c.done)",o="_c.value",a=(e?"if (a) "+u+" {"+r.replace(/\{v\}/g,"a("+o+")")+";} else ":"")+u+"{"+r.replace(/\{v\}/g,o)+";};",f=new Function("a","b","c","g","var _i=g(this);var _c;"+n+";"+a+(t||"return r"));return function(n,r,t){return f.call(this,n,r,t,i)}}function s(n,r,t){var e=v(n,r,t,!0);return function(n){var r=n&&D(n);return e.apply(this,[r].concat(Q.concat.call(arguments)))}}function h(n,r){var t=[{fn:D(n),desc:r}];return d(this,t)}function p(n,r){if(!this[W])throw new Error("thenBy only makes sense after orderBy");var t=this[W].slice(0);return t.push({fn:D(n),desc:r}),d(this[C],t)}function d(n,r){var t=new e(z,y(n,r));return t[W]=r,t[C]=n,t}function y(n,r){return function(){var t=n.toArray().sort(function(n,t){for(var e=0,u=0,u=0;0===e&&u<r.length;u++){var i=r[u].fn(n),o=r[u].fn(t);e=(i<o?-1:i>o?1:0)*(r[u].desc?-1:1)}return e});return t[z]()}}function w(n,r,t,u){var o=this;return function(){var a,f,c,l=!t&&!u,v=D(l?0:t),s=D(l?1:null),h=D(l?0:u),p=D(l?1:null),d=i(o),y=new Map(u?new e(n).groupBy(h):n);return b(function(){for(;;){if(!a){var n=d.next();if(n.done)return o[H]();c=v(n.value),f=s(n.value);var t=y.get(c);if(!t||!t[z]||"string"==typeof t)return this[R]=[d],{done:!1,value:r(f,t,c)};a=i(t)}var e=a.next();if(!e.done)return this[R]=[d,a],{done:!1,value:r(f,p(e.value),c)};a=null}})}}function b(n){var r=this;return{next:n,return:function(){return o[r[R]]()}}}function x(n){var r=this;return function(){var t,e=r[G](r),u=function(){for(var i;i=e.next(),!i.done&&n(i.value););return i.done?r[H]():(u=e.next.bind(e),t=e.return&&e.return.bind(e),{value:i.value,done:!1})},i={next:function(){return u()},return:function(){if(returnfn)return t()}};return i}}function g(n){var r=this;return function(){var t=r[G](r);return b(function(){var e=t.next();return!e.done&&n(e.value)?{done:!1,value:e.value}:r[H]()})}}function m(n,r,t,e){return function(){var u=N(t,n,function(n){return"constructor"!==n&&(!e||e(n))});return r||(u=u.filter(function(n){return n[1].field})),u=u.map(function(n){return[n[0],t[n[0]]]}),u[z]()}}function O(n,r){T(n);var t=this;return function(){var e=0,u=t[z]();return b(function(){var i=u.next();return!i.done&&n.call(r,i.value,e++),i.done?t[H]():i})}}function j(n,r,t){var e=this;return function(){var u,i=D(r),o=new Set(P(t,n)),a=e[G](e);return b(function(){for(;u=a.next(),!u.done&&o.has(i(u.value)););return u.done?e[H]():u})}}function S(n,r,t){var e=this;return function(){var u,i=D(r),o=new Set(P(t,n)),a=e[G](e);return b(function(){for(;u=a.next(),!u.done&&!o.has(i(u.value)););return u.done?e[H]():u})}}function E(n,r,t){var u=this;return function(){var i=new e(n).except(u);return(r||t)&&(i=i.on(r,t)),u.concat(i)[z]()}}function k(n){var r=this;return function(){var t,e=new Set,u=r[G](r),i=D(n);return b(function(){for(;t=u.next(),!t.done;){var n=i(t.value);if(!e.has(n))return e.add(n),{done:!1,value:t.value}}return r[H]()})}}function A(n,r){var t=this;return function(){for(var e,u=D(n),o=D(r),a=new Map,f=i(t);e=f.next(),!e.done;){var c=u(e.value);(a.get(c)||a.set(c,[]).get(c)).push(o(e.value))}return i(a)}}function B(n){var r=this;return function(){var t,e=[r[z]()];return b(function(){for(;t||e.length>0;){t||(t=e.pop());var u=t.next();if(u.value&&u.value[z]&&"string"!=typeof u.value&&(n||0===e.length))e.push(t),t=u.value[z]();else{if(!u.done)return this[R]=[t],{done:!1,value:u.value};t=void 0}}return r[H]()})}}function _(n,r){T(n);var t=this;return function(){var e=0,u=t[G](t);return b(function(){for(var i=u.next();!i.done&&!n.call(r,i.value,e++);)i=u.next();return i.done?t[H]():i})}}function q(n,r){var t=D(n),e=this;return function(){var n=0,u=e[G](e);return b(function(){var i=u.next();return i.done?e[H]():{done:!1,value:t.call(r,i.value,n++)}})}}function P(n,r){return null!=n?new e(r).map(D(n)):r}function D(n){return null==n?function(n){return n}:"function"==typeof n?n:function(r){return r[n]}}function I(){return function(){return{next:function(){return u()}}}}function T(n){if("function"!=typeof n)throw new Error("The callback argument was not a function.")}function M(n,r,t){t=t||0;var u=new e(Object.getOwnPropertyNames(n)).map(function(r){return[r,n,t]}).execute();if(r){var i=Object.getPrototypeOf(n);i!==Object.prototype&&(u=u.union(M(i,!0,t+1)).on("0"))}return u}function N(n,r,t){"function"==typeof r&&(t=r,r=!1);var e=M(n,r);return t&&(T(t),e=e.filter(function(n,r){return t(n[0],r)})),e.map(function(n){var r=Object.getOwnPropertyDescriptor(n[1],n[0]),t=r.hasOwnProperty("value");return[n[0],{type:t?null===r.value?"null":typeof r.value:null,field:t,writable:!!r.writable||!!r.set,get:r.get,set:r.set,configurable:r.configurable,enumerable:r.enumerable,depth:n[2]}]})}function U(n){function r(){a([n])}var t=[],e={};return function(){var i=0;return{next:function(){if(!e.done&&i===t.length){if(e=n.next(),e.done)return u();t[i]=e.value}return i<t.length?{value:t[i++],done:!1}:u()},return:r}}}function F(n){if(!n||!n.hasOwnProperty(0)&&n.hasOwnProperty(1)&&2===n.length)throw new Error("The object was not a key-value pair, e.g. a 2-element array")}var W=Symbol(),C=Symbol(),J=Symbol(),L=Symbol(),R=Symbol(),z=Symbol.iterator,G=Symbol(),H=Symbol(),K="prototype",Q=Array[K];Object.assign(e,{fromObject:f(m,2,[1,0]),fromObjectOwn:f(m,2,[0,0]),reflect:N,generate:function(n,r){var t="function"==typeof n?n:function(){return n};return new e(z,function(){var n=-1;return r=r||1,{next:function(){return n++,{done:n>=r,value:n<r&&t(n)}}}})}}),e[K]={constructor:e,forEach:v("var i=0","a.call(b,{v},i++)",";"),do:f(O),groupBy:f(A),orderBy:h,orderByDesc:function(n){return h.call(this,n,!0)},thenBy:p,thenByDesc:function(n){return p.call(this,n,!0)},count:v("var r=0","r++"),skip:f(function(n){return x.call(this,function(){return 0!==n--})}),skipWhile:f(x),take:f(function(n){return g.call(this,function(){return 0!==n--})}),takeWhile:f(g),cast:function(n){return new e(z,q.call(this,function(r){return new n(r)}))},first:v("var r=a","return {v}","return r"),last:v("var r=a,l","r={v}"),flatten:f(B),unique:f(k),except:c(j,1),intersect:c(S,1),union:c(E,1),leftJoin:c(w,2),on:function(n,r){if(1===arguments.length&&(r=n),!this[C])throw new Error('"on" make no sense without a prior join or set merge operation.');return new e(z,this[L].apply(this[C],this[J].concat([n,r])))},sequenceEqual:function(n,r,t){for(var e,u,o=i(this),f=i(n),c=D(r),l=D(t);u=f.next(),!u.done;)if(e=o.next(),e.done||l(u.value)!==c(e.value))return a([!e.done&&o,f]),!1;return!!o.next().done||(a([o])||!1)},keys:function(){return this.map(l(0,F))},values:function(){return this.map(l(1,F))},concat:function(){return new e([this].concat(Q.slice.call(arguments))).flatten()},map:f(q),filter:f(_),some:v("var i=0","if (a({v},b,i++)) return true","return false"),every:v("var i=0","if (!a({v},b,i++)) return false","return true"),includes:v("var i=0","if ({v}===a) return true; i++","return false"),indexOf:v("var i=0","if ({v}===a) return i; i++","return -1"),lastIndexOf:v("var r=-1,i=0","if ({v}===a) r=i; i++"),findIndex:v("var i=0","if (a.call(b,{v},i)===true) return i; i++","return -1"),find:v("var i=0","if (a.call(b,{v},i++)===true) return {v};","return c"),get:v("var i=0","if (i++===a) return {v}","return c"),slice:function(n,r){return this.skip(n).take(r-n)},reduce:v("var r=b,i=0","r=a(r,{v},i++)"),reduceRight:function(){var n=v("var r=b,i=c","r=a(r,{v},i--)");return function(r,t){var e=this.toArray().reverse();return n.apply(e,[r,t,e.length-1])}}(),join:function(n){return this.toArray().join(n)},toObject:v("var r={}","r[{v}[0]]={v}[1]"),toArray:v("var r=[]","r.push({v})"),as:function(n){return n===Array?this.toArray():new n(this)},execute:function(){return new e(this.toArray())},min:s("var r=Infinity","if (r>{v}) r={v}"),max:s("var r=-Infinity","if (r<{v}) r={v}"),sum:s("var r=0","r+={v}"),mean:s("var r=0,i=0","r+={v};i++","return r/i")},e[K][G]=i,e[K][H]=u,["sort","reverse"].forEach(function(n){e[K][n]=function(){var r=this,t=arguments;return new e(z,function(){var e=r.toArray();return Q[n].apply(e,t)[z]()})}}),r.exports=e},{}]},{},[1])(1)});
